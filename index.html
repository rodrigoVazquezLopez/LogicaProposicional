<!DOCTYPE html>
<html>
  <head>
    <title>Calculadora de Lógica Proposicional</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu|Lora" />
    <script src="js/constants.js"></script>
    <script src="js/tokenizer.js"></script>
    <script src="js/stack.js"></script>
    <script src="js/shuntingYard.js"></script>
    <script src="js/evaluateExp.js"></script>
    <script src="js/view.js"></script>
    <link rel="stylesheet" href="./css/styles.css" />
  </head>

  <body>
    <header>
      <h1>Calculadora de Lógica Proposicional</h1>
      <p>Calculadora didáctica de operaciones lógicas open source desarrollada enteramente en javascript. Auxiliar en cursos de lógica matemática, programación y teoría de la computación</p>
      <a class="code-button" href="https://github.com/rodrigoVazquezLopez/LogicaProposicional/tree/main/src" target="_blank">Código Fuente</a>
    </header>

    <section class="calculator-section">
      <div class="calculator-section-row">
        <div class="calculator-container">
          <div class="input-expression" id="entrada">0</div>

          <button class="btn-calculator btn-operation-color" onclick="btnOper('(')">(</button>
          <button class="btn-calculator btn-operation-color" onclick="btnOper(')')">)</button>
          <button class="btn-calculator btn-delete-color" onclick="btnFunDEL()">DEL</button>
          <button class="btn-calculator btn-delete-color" onclick="btnFunAC()">AC</button>

          <button class="btn-calculator btn-operation-color" onclick="btnOper(1)">&#x00AC;</button>
          <button class="btn-calculator btn-operation-color" onclick="btnOper(4)">&#x2192;</button>
          <button class="btn-calculator btn-operation-color" onclick="btnOper(5)">&#x2194;</button>
          <button class="btn-calculator btn-operation-color" onclick="btnOper(6)">&#x2295;</button>

          <button class="btn-calculator btn-preposition-color" onclick="prepBtn('A')">A</button>
          <button class="btn-calculator btn-preposition-color" onclick="prepBtn('B')">B</button>
          <button class="btn-calculator btn-preposition-color" onclick="prepBtn('C')">C</button>
          <button class="btn-calculator btn-operation-color" onclick="btnOper(2)">&#x2227;</button>

          <button class="btn-calculator btn-preposition-color" onclick="prepBtn('D')">D</button>
          <button class="btn-calculator btn-preposition-color" onclick="prepBtn('E')">E</button>
          <button class="btn-calculator btn-preposition-color" onclick="prepBtn('F')">F</button>
          <button class="btn-calculator btn-operation-color" onclick="btnOper(3)">&#x2228;</button>

          <button class="btn-calculator btn-preposition-color" onclick="prepBtn('G')">G</button>
          <button class="btn-calculator btn-preposition-color" onclick="prepBtn('H')">H</button>
          <button class="btn-calculator btn-preposition-color" onclick="prepBtn('I')">I</button>
          <button class="btn-calculator btn-equal-color" onclick="showResults()">RES</button>
        </div>
      </div>

      <div class="calculator-section-row">
        <h2>Instrucciones</h2>
        <p>La calculadora está diseñada para realizar el cálculo de de proposiciones lógicas utilizando tablas de verdad. Las operaciones lógicas que se pueden realizar se muestran en la siguiente tabla:</p>
        <table class="info-operations-table">
          <tr>
            <th>Prioridad</th>
            <th>Operador</th>
            <th>Operación</th>
          </tr>
          <tr>
            <td class="text-center">1</td>
            <td class="text-center">&#x00AC;</td>
            <td>Negación: &#x00AC;A</td>
          </tr>
          <tr>
            <td class="text-center">2</td>
            <td class="text-center">&#x2227;</td>
            <td>Conjunción: A&#x2227;B</td>
          </tr>
          <tr>
            <td class="text-center">3</td>
            <td class="text-center">&#x2228;</td>
            <td>Disyunción: A&#x2228;B</td>
          </tr>
          <tr>
            <td class="text-center">4</td>
            <td class="text-center">&#x2192;</td>
            <td>Implicación: A&#x2192;B</td>
          </tr>
          <tr>
            <td class="text-center">5</td>
            <td class="text-center">&#x2194;</td>
            <td>Bicondicional: A&#x2194;B</td>
          </tr>
          <tr>
            <td class="text-center">6</td>
            <td class="text-center">&#x2295;</td>
            <td>Disyunción exclusiva: A&#x2295;B</td>
          </tr>
        </table>
        <p>Se pueden utilizar paréntesis para agrupar las operaciones, sin embargo, en caso de no hacerlo el orden de evaluación de los operadores se realiza con base en valor definido en la columna <strong>prioridad</strong> de la tabla anterior, siendo la negación la operación con mayor prioridad y la disyunción exclusiva de menor prioridad.</p>
        <p>Para ingresar las proposiciones utilice los botones con las letras <strong>A - I</strong>.</p>   
        <p>En caso que necesite corregir la expresión ingresada utilice el botón <strong>DEL</strong> para borrar los caracteres que considere necesarios.</p>
        <p>Para borrar por completo el contenido pulse el botón <strong>AC</strong>.</p>
        <p>Para visualizar el resultado pulse el botón <strong>RES</strong>.</p>
      </div>
    </section>
    <section>
      <div>
        <h2>Tokenizer</h2>
        <p class="info-paragraph">La expresión ingresada se analiza con la finalidad de identificar los distintos elementos que la componen: proposiciones, operaciones y paréntesis. Como resultado del análisis, la expresión se separa en tokens que se almacenan de manera independiente junto con una etiqueta que identifica el tipo.</p>
        <p class="info-paragraph">La cadena analizada se compone de los siguientes tokens:</p>  
        <div class="flex-container" id="tokenizer"></div>
      </div>
      <div>
        <h2>Analizador sintáctico</h2>
        <p class="info-paragraph">Próximamente...</p>
        <div class="stack-cell">
          <div class="card-stack-element">
            <p class="stack-data">A</p>
            <p class="stack-type-data">OPER</p>
          </div>
          <p class="stack-index">0</p>
        </div>
        
      </div>
      <div>
        <h2>Shunting Yard Algorithm</h2>
        <p class="info-paragraph">Una vez que se verificó que la cadena de entrada es sintácticamente correcta, el siguiente paso prepararla para evaluar la expresión. Por ello, la expresión originalmente ingresada en notación infija se debe convertir a notación prefija (también conocida como notación polaca inversa) con la finalidad de facilitar el cómputo.</p>
        <p class="info-paragraph">Una de las formas de realizar la conversión infijo a posfijo es utilizar el algoritmo Shunting Yard el cuál es un algoritmo basado en el uso de una pila (stack). </p>
        <p class="info-paragraph">A continuación se muestra el proceso de evaluación del algoritmo con la cadena de entrada mostrando la cadena parcial de salida y el contenido de la pila de cada iteración.</p>
        <div class="flex-container" id="partial_results"></div>
        <div class="flex-container" id="shunting"></div>
      </div>
      <div>
        <h2>Tabla de Verdad</h2>
        <p class="info-paragraph">Finalmente, se procede a evaluar la expresión:</p>
        <div class="flex-container">
          <table class="text-center" id="inputs"></table>
          <table class="text-center" id="outputs"></table>
        </div>
      </div>
    </section>

    <footer>
      <p>2021 &copy; Rodrigo Vázquez-López</p>
    </footer>
  </body>
</html>
